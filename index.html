<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Happy New Year</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&display=swap" rel="stylesheet">

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #f5f4f0;
  overflow: hidden;
  font-family: 'Playfair Display', serif;
}

.scene {
  position: relative;
  width: 100vw;
  height: 100vh;
}

/* ROAD */
.road {
  position: absolute;
  bottom: 30%;
  width: 100vw;
  height: 6px;
  background: #222;
}

/* BIKE IMAGE */
.bike {
  position: absolute;
  bottom: calc(30% - 20px); /* aligns with road */
  left: -200px;
  width: 180px; /* adjust as needed */
  height: auto;
}

/* TITLE */
.title {
  position: absolute;
  top: 18%;
  width: 100%;
  text-align: center;
  font-size: 1.6rem;
  color: #111;
  letter-spacing: 0.5px;
}

@media (max-width: 600px) {
  .title {
    font-size: 1.3rem;
    padding: 0 20px;
  }
}
</style>
</head>

<body>
<div class="scene">
  <div class="title">
    Highways and leather are waiting for you.<br>
    Happy New Year, my love â™¡
  </div>

  <div class="road"></div>

  <!-- MOTORCYCLE ICON -->
  <img src="motorcycle-silhouette-illustration-side-view-vector.jpg" class="bike" alt="Motorcycle">
</div>

<audio id="engine" src="engine-hum.mp3" preload="auto"></audio>

<script>
const bike = document.querySelector('.bike');
const audio = document.getElementById('engine');

let started = false;

function startRide() {
  if (started) return;
  started = true;

  audio.volume = 0;
  audio.play();

  // fade in sound
  let vol = 0;
  const fadeIn = setInterval(() => {
    if (vol >= 0.6) {
      audio.volume = 0.6;
      clearInterval(fadeIn);
    } else {
      audio.volume = vol;
      vol += 0.02;
    }
  }, 100);

  const screenWidth = window.innerWidth;
  let position = -200;
  const endPosition = screenWidth + 200;
  const speed = 2.5; // adjust speed

  const ride = setInterval(() => {
    position += speed;
    bike.style.left = position + 'px';

    if (position >= endPosition) {
      clearInterval(ride);

      // fade out sound
      const fadeOut = setInterval(() => {
        if (audio.volume <= 0.02) {
          audio.pause();
          audio.currentTime = 0;
          clearInterval(fadeOut);
        } else {
          audio.volume -= 0.02;
        }
      }, 120);
    }
  }, 16);
}

// required for audio on mobile
document.body.addEventListener('click', startRide, { once: true });
</script>
</body>
</html>
